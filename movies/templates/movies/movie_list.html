{% extends "base.html" %}

{% block content %}
<!-- Hero Banner -->
<div class="hero-banner">
  <div class="overlay">
    <h1 class="hero-title">ðŸŽ¬ Movie Recommendation App</h1>
    <p class="hero-subtitle">Stream. Discover. Enjoy.</p>
  </div>
</div>

<!-- ðŸ”¥ Trending -->
<div class="movie-section">
  <h2 class="section-title">ðŸ”¥ Trending Now</h2>
  <div class="scroll-row">
    {% for movie in trending %}
      <div class="movie-card">
        <div class="poster" 
             style="background-image: url('https://image.tmdb.org/t/p/w500{{ movie.poster_path|default:movie.backdrop_path }}');">
        </div>
        <div class="movie-info">
          <h3>{{ movie.title }}</h3>
          <p>{{ movie.overview|truncatewords:15 }}</p>
          <div class="movie-buttons">
            <a href="{% url 'movie_detail' movie.id %}" class="btn more-info">More Info</a>
            <a href="https://www.youtube.com/results?search_query={{ movie.title }} trailer" target="_blank" class="btn watch-now">Watch Now</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- ðŸ†• New Releases -->
<div class="movie-section">
  <h2 class="section-title">ðŸ†• New Releases</h2>
  <div class="scroll-row">
    {% for movie in new_releases %}
      <div class="movie-card">
        <div class="poster" 
             style="background-image: url('https://image.tmdb.org/t/p/w500{{ movie.poster_path|default:movie.backdrop_path }}');">
        </div>
        <div class="movie-info">
          <h3>{{ movie.title }}</h3>
          <p>{{ movie.overview|truncatewords:15 }}</p>
          <div class="movie-buttons">
            <a href="{% url 'movie_detail' movie.id %}" class="btn more-info">More Info</a>
            <a href="https://www.youtube.com/results?search_query={{ movie.title }} trailer" target="_blank" class="btn watch-now">Watch Now</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- ðŸ’¥ Action Movies -->
<div class="movie-section">
  <h2 class="section-title">ðŸ’¥ Action Movies</h2>
  <div class="scroll-row">
    {% for movie in action_movies %}
      <div class="movie-card">
        <div class="poster" 
             style="background-image: url('https://image.tmdb.org/t/p/w500{{ movie.poster_path|default:movie.backdrop_path }}');">
        </div>
        <div class="movie-info">
          <h3>{{ movie.title }}</h3>
          <p>{{ movie.overview|truncatewords:15 }}</p>
          <div class="movie-buttons">
            <a href="{% url 'movie_detail' movie.id %}" class="btn more-info">More Info</a>
            <a href="https://www.youtube.com/results?search_query={{ movie.title }} trailer" target="_blank" class="btn watch-now">Watch Now</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- ðŸ˜‚ Comedy Movies -->
<div class="movie-section">
  <h2 class="section-title">ðŸ˜‚ Comedy Movies</h2>
  <div class="scroll-row">
    {% for movie in comedy_movies %}
      <div class="movie-card">
        <div class="poster" 
             style="background-image: url('https://image.tmdb.org/t/p/w500{{ movie.poster_path|default:movie.backdrop_path }}');">
        </div>
        <div class="movie-info">
          <h3>{{ movie.title }}</h3>
          <p>{{ movie.overview|truncatewords:15 }}</p>
          <div class="movie-buttons">
            <a href="{% url 'movie_detail' movie.id %}" class="btn more-info">More Info</a>
            <a href="https://www.youtube.com/results?search_query={{ movie.title }} trailer" target="_blank" class="btn watch-now">Watch Now</a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- CSS -->
<style>
body { background: #000; color: #fff; font-family: Arial, sans-serif; }

/* Hero Banner */
.hero-banner {
  background: url("https://images.unsplash.com/photo-1608897013039-887169d33b2e?auto=format&fit=crop&w=1600&q=80") 
              no-repeat center center/cover;
  height: 300px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin-bottom: 30px; position: relative;
}
.hero-banner .overlay { background: rgba(0,0,0,0.6); padding: 20px 40px; text-align: center; border-radius: 8px; }
.hero-title { font-size: 2.5rem; margin-bottom: 10px; color: #e50914; font-weight: bold; }
.hero-subtitle { font-size: 1.2rem; color: #ddd; }

/* Section Title */
.section-title { font-size: 1.5rem; font-weight: bold; margin: 20px 0 10px 20px; color: #e50914; }

/* Movie Section */
.movie-section { margin-bottom: 40px; }

/* Horizontal Scroll Row */
.scroll-row { display: flex; overflow-x: auto; gap: 15px; padding: 10px 20px; scroll-behavior: smooth; }
.scroll-row::-webkit-scrollbar { display: none; }

/* Movie Card */
.movie-card { min-width: 200px; background: #111; border-radius: 10px; overflow: hidden; transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; flex-shrink: 0; }
.movie-card:hover { transform: scale(1.08); box-shadow: 0 8px 20px rgba(0,0,0,0.7); }

/* Poster */
.poster { width: 100%; height: 250px; background-size: cover; background-position: center; }

/* Movie Info */
.movie-info { padding: 10px; }
.movie-info h3 { margin: 0 0 5px 0; font-size: 1rem; color: #e50914; }
.movie-info p { margin: 0; font-size: 0.8rem; color: #ccc; }

/* Buttons */
.movie-buttons { margin-top: 10px; display: flex; gap: 10px; }
.btn { padding: 6px 12px; font-size: 0.8rem; border-radius: 5px; text-decoration: none; font-weight: bold; transition: background 0.3s ease; }
.more-info { background: #333; color: #fff; }
.more-info:hover { background: #555; }
.watch-now { background: #e50914; color: #fff; }
.watch-now:hover { background: #b20710; }
</style>
{% endblock %}

